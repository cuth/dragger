/*  dragger
 *  version: 1.2.1
 *  https://github.com/cuth/dragger
 *  @preserve
 */
define(["jquery"],function(t){"use strict";var i={start:null,drag:null,stop:null,initX:0,initY:0,allowVerticalScrolling:!1,allowHorizontalScrolling:!1},n={minX:null,maxX:null,minY:null,maxY:null},s=function(i){t.extend(this.bounds,i)},l=function(i){t.extend(this.handle,i)},o=function(){return 0!==this.dragStart.diffX||0!==this.dragStart.diffY},e=function(){return{x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}},r=function(t,i){var n,s,l,o;return n=t.x-this.dragStart.x,s=t.y-this.dragStart.y,i&&n===this.dragStart.diffX&&s===this.dragStart.diffY?!1:(this.dragStart.diffX=n,this.dragStart.diffY=s,l=n+this.handle.x,o=s+this.handle.y,"number"==typeof this.bounds.minX&&(l=Math.max(l,this.bounds.minX)),"number"==typeof this.bounds.maxX&&(l=Math.min(l,this.bounds.maxX)),"number"==typeof this.bounds.minY&&(o=Math.max(o,this.bounds.minY)),"number"==typeof this.bounds.maxY&&(o=Math.min(o,this.bounds.maxY)),{x:l,y:o})},a=function(t){var i=e();this.dragStart={x:t.x,y:t.y,diffX:0,diffY:0,scrollX:i.x,scrollY:i.y},"function"==typeof this.opts.start&&this.opts.start.call(this,this.handle)},h=function(t){var i=r.call(this,t,!0);i&&"function"==typeof this.opts.drag&&this.opts.drag.call(this,i)},c=function(t){this.handle=r.call(this,t,!1);var i=o.call(this)&&!this.isScrolling;"function"==typeof this.opts.stop&&this.opts.stop.call(this,this.handle,i),this.isDragging=!1},u=function(t){document.onselectstart=function(){return!1},this.isDragging=!0,a.call(this,{x:t.clientX,y:t.clientY})},d=function(t){this.isDragging&&h.call(this,{x:t.clientX,y:t.clientY})},f=function(t){document.onselectstart=null,this.isDragging&&c.call(this,{x:t.clientX,y:t.clientY})},g=function(t){this.isDragging=!1,a.call(this,{x:t.originalEvent.touches[0].clientX,y:t.originalEvent.touches[0].clientY})},m=function(){var t=e();return this.opts.allowVerticalScrolling&&t.y!==this.dragStart.scrollY?!0:this.opts.allowHorizontalScrolling&&t.x!==this.dragStart.scrollX?!0:!1},p=function(t){return!this.opts.allowVerticalScrolling&&Math.abs(t.y-this.dragStart.y)>10?!0:!this.opts.allowHorizontalScrolling&&Math.abs(t.x-this.dragStart.x)>10?!0:!1},y=function(t){if(this.isScrolling)return!0;var i={x:t.originalEvent.touches[0].clientX,y:t.originalEvent.touches[0].clientY};if(!this.isDragging){if(m.call(this))return this.isScrolling=!0,!0;if(!p.call(this,i))return!0;this.isDragging=!0}t.preventDefault(),h.call(this,i)},x=function(t){var i={x:this.isScrolling?this.dragStart.x:t.originalEvent.changedTouches[0].clientX,y:this.isScrolling?this.dragStart.y:t.originalEvent.changedTouches[0].clientY};c.call(this,i),this.isScrolling=!1},S=function(t){t.preventDefault()},b=function(t){o.call(this)&&t.preventDefault()},X=function(){this.$el.on("mousedown",u.bind(this)),t(document).on("mousemove",d.bind(this)).on("mouseup",f.bind(this)),this.$el.on("touchstart",g.bind(this)),this.$el.on("touchmove",y.bind(this)),this.$el.on("touchend",x.bind(this)),this.$el.on("dragstart",S.bind(this)),this.$el.on("click",b.bind(this))},Y=function(s,l){return this.$el=t(s),this.$el.length?(this.el=this.$el[0],this.opts=t.extend({},i,l),this.bounds=t.extend({},n),this.handle={x:this.opts.initX,y:this.opts.initY},this.dragStart={x:0,y:0,diffX:0,diffY:0,scrollX:0,scrollY:0},this.isDragging=!1,this.isScrolling=!1,X.call(this),!0):!1},v=function(t,i){this.result=Y.call(this,t,i)};return v.prototype.setBounds=s,v.prototype.setPosition=l,t.fn.Dragger=function(t){return new v(this,t)},v});